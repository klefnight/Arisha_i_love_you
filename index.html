<!-- index.html -->
<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Valentine</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <!-- Subtle background particles (only enabled after "Yes") -->
  <canvas id="particles" aria-hidden="true"></canvas>

  <main class="app" role="main">
    <!-- 1) FIRST SCREEN -->
    <section id="screen-1" class="screen is-active" aria-label="First screen">
      <div class="center">
        <p class="type" id="typewriter" aria-live="polite"></p>

        <p class="hint" id="noHint" role="status" aria-live="polite"></p>

        <div class="btnRow" role="group" aria-label="Choices">
          <button id="yesBtn" class="btn btn-primary">Yes</button>
          <button id="noBtn" class="btn">No</button>
        </div>
      </div>
    </section>

    <!-- 2) HEART + STORY -->
    <section id="screen-2" class="screen" aria-label="Heart screen">
      <div class="center wide">
        <div class="heartWrap" aria-hidden="true">
          <!-- Heart is drawn via stroke animation -->
          <svg id="heartSvg" viewBox="0 0 600 520" class="heart" focusable="false">
            <defs>
              <!-- Neon glow filter -->
              <filter id="neonGlow" x="-50%" y="-50%" width="200%" height="200%">
                <feGaussianBlur stdDeviation="4" result="blur1" />
                <feGaussianBlur stdDeviation="10" result="blur2" />
                <feMerge>
                  <feMergeNode in="blur2"/>
                  <feMergeNode in="blur1"/>
                  <feMergeNode in="SourceGraphic"/>
                </feMerge>
              </filter>
            </defs>

            <!-- A clean heart path (single stroke) -->
            <path
              id="heartPath"
              d="M300 470
                 C120 360 60 260 95 185
                 C130 110 220 105 270 165
                 C285 182 293 202 300 220
                 C307 202 315 182 330 165
                 C380 105 470 110 505 185
                 C540 260 480 360 300 470 Z"
              fill="transparent"
              stroke="#ff0033"
              stroke-width="10"
              stroke-linecap="round"
              stroke-linejoin="round"
              filter="url(#neonGlow)"
            />
          </svg>
        </div>

        <div class="story">
          <p id="loadingLine" class="fadeLine" hidden>Loading something importantâ€¦</p>

          <div id="progressWrap" class="progressWrap" hidden aria-label="Loading progress">
            <div class="progressBar" aria-hidden="true">
              <div id="progressFill" class="progressFill"></div>
            </div>
            <div class="progressText"><span id="progressPct">0%</span></div>
          </div>

          <p id="line1" class="fadeLine" hidden>
            You were never a coincidence.<br />
            You became my favorite decision.
          </p>

          <p id="dateLine" class="dateLine" hidden>Since May 12, 2025</p>

          <p id="line2" class="fadeLine" hidden>Every day with you feels intentional.</p>

          <!-- Photo -->
          <div id="photoBlock" class="photoBlock" hidden>
            <div class="photoFrame">
              <!-- Replace photo.jpg with your image (keep file in same folder). -->
              <img src="photo.jpg" alt="A memory" loading="lazy" />
            </div>
            <p class="caption">Built with moments. Powered by feelings.</p>
          </div>

          <!-- Final question -->
          <div id="finalAsk" class="finalAsk" hidden>
            <p class="fadeLine is-visible">Will you be my Valentine?</p>
            <button id="finalBtn" class="btn btn-primary btn-wide">Run forever.exe</button>
          </div>
        </div>
      </div>
    </section>

    <!-- 3) FINAL SCREEN -->
    <section id="screen-3" class="screen" aria-label="Final screen">
      <div class="center">
        <p class="finalText">
          System locked.<br />
          Partner selected: <span class="accent">Arisha</span><br />
          Status: <span class="accent">Irreplaceable.</span>
        </p>
      </div>

      <!-- Floating hearts layer (enabled on final screen) -->
      <div id="heartsLayer" class="heartsLayer" aria-hidden="true"></div>
    </section>
  </main>

  <script src="script.js"></script>
</body>
</html>
